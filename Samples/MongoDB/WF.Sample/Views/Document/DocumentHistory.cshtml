@model WF.Sample.Business.Models.Document
@if (Model != null && Model.TransitionHistories.Count > 0)
{
    <h1>Document's Transition History</h1>
    <table class="table">
        <tbody>
            <tr>
                <th>From</th>
                <th>To</th>
                <th>Command</th>
                <th>Executor</th>
                <th>TransitionTime</th>
                <th>Availiable for</th>
            </tr>
            @foreach (var item in Model.TransitionHistories)
            {
                <tr>
                    <td>@Html.Label(item.InitialState)</td>
                    <td>@Html.Label(item.DestinationState)</td>
                    <td>@Html.Label(item.Command)</td>
                    <td>@Html.Label(item.EmployeeName ?? "")</td>
                    <td>
                        @if (item.TransitionTime.HasValue)
                        {
                            @Html.Raw(string.Format("{0}",
                            item.TransitionTime.Value.ToString("yyyy-MM-dd HH:mm:ss")))
                        }
                    </td>
                    <td>@Html.Label(item.AllowedToEmployeeNames)</td>
                </tr>
            }
        </tbody>
    </table>
}
